cmake_minimum_required(VERSION 3.5.1)

SET_POLICIES()

project(quentier_update)

string(TIMESTAMP BUILD_TIMESTAMP "%Y-%m-%dT%H:%M:%SZ")

set(QUENTIER_DEFAULT_UPDATE_CHANNEL  "define QUENTIER_DEFAULT_UPDATE_CHANNEL \"${DEFAULT_UPDATE_CHANNEL}\"")
set(QUENTIER_DEFAULT_UPDATE_PROVIDER "define QUENTIER_DEFAULT_UPDATE_PROVIDER \"${DEFAULT_UPDATE_PROVIDER}\"")
set(QUENTIER_BUILD_TIMESTAMP         "define QUENTIER_BUILD_TIMESTAMP \"${BUILD_TIMESTAMP}\")

set(QUENTIER_UPDATE_INFO_HEADER
    "${CMAKE_CURRENT_BINARY_DIR}/UpdateInfo.h"
    CACHE INTERNAL "QUENTIER_UPDATE_INFO_HEADER")
configure_file(UpdateInfo.h.in
               ${QUENTIER_UPDATE_INFO_HEADER} @ONLY)
